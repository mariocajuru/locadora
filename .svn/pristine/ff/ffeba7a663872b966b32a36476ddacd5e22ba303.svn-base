<?xml version="1.0" encoding="ISO-8859-1" ?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:sec="http://www.springframework.org/security/facelets/tags"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<ui:composition template="/templates/principal.xhtml">
	<ui:define name="corpo">
		<h:form id="formulario" class="form-horizontal">

			<h3>Filial</h3>

			<div class="row">
				<div class="bs-example bs-example-tabs">
					<ul id="myTab" class="nav nav-tabs">
						<li><a href="consulta.jsf">CONSULTA</a></li>
						<li class="active"><a href="#">CADASTRO</a></li>
					</ul>
				</div>
			</div>

			<p:messages id="cadMenssagem" display="text" autoUpdate="true"
				closable="true" errorClass="bs-callout bs-callout-info" />

			<br />

			<div class="row">

				<label class="col-md-2 control-label labelRenovar">ID</label>

				<div class="col-md-2 form-group">
					<h:inputText id="id" class="form-control input-sm"
						value="#{filialBean.sede.filId}" disabled="true" />
				</div>

			</div>

			<div class="row">

				<label class="col-md-1 control-label labelRenovar">NOME</label>
				<div class="col-md-7 form-group">
					<p:focus for="nome" context="nome" />
					<h:inputText id="nome" class="form-control input-sm"
						value="#{filialBean.sede.filNome}" size="35" maxlength="49"
						required="true"
						requiredMessage="O nome da filial não foi preenchido." />
				</div>

			</div>
			<br />

			<ui:include src="/admin/filial/fragments/endereco.xhtml" />


			<div class="row">

				<label class="col-md-1 control-label labelRenovar">CNPJ</label>

				<div class="col-md-2 form-group">
					<p:inputMask id="cnpj" label="CNPJ" value="#{filialBean.cnpj}"
						size="20" requiredMessage="Falta o CNPJ da filial !"
						mask="99.999.999/9999-99">
						<p:ajax event="change"
							listener="#{filialBean.confirmaCNPJ(filialBean.cnpj)}"
							process="@this" update="cadMenssagem" />
					</p:inputMask>
				</div>

				<label class="col-md-2 control-label labelRenovar">INSCRIÇÃO
					ESTADUAL</label>

				<div class="col-md-2 form-group">
					<h:inputText id="ie" label="Inscrição Estadual"
						class="form-control input-sm" value="#{filialBean.sede.filIe}"
						maxlength="18" size="18" requiredMessage="Falta " />
				</div>

				<label class="col-md-2 control-label labelRenovar">INSCRIÇÃO
					MUNICIPAL</label>
				<div class="col-md-2 form-group">
					<h:inputText id="im" label="Inscrição Municipal"
						class="form-control input-sm" value="#{filialBean.sede.filIm}"
						maxlength="15" size="15" requiredMessage="Falta o IM da Pessoa !" />
				</div>

			</div>
<!-- 			
			<div class="row">

				<label class="col-md-1 control-label labelRenovar">E-MAIL</label>

				<div class="col-md-3 form-group">
					<h:inputText id="mail" label="E-Mail" class="form-control input-sm"
						value="#{filialBean.email.emaEndereco}" size="50" maxlength="50"
						validatorMessage="e-mail inválido">
						<f:validateRegex pattern="[a-zA-Z0-9\-\_\.]+@[a-z-A-Z0-9\-\_\.]+" />
					</h:inputText>
					<h:message for="mail" />
				</div>
				<br />
			</div> -->

			<hr />

			<div class="row" style="text-align: center">

				<div class="btn-group">

					<p:commandButton value="Salvar" action="#{filialBean.salvar}"
						class="btn btn-default btn-lg" />

					<p:commandButton class="btn btn-default btn-lg" value="Limpar"
						onclick="javascript: window.location.assign('cadastro.jsf');" />

					<p:commandButton class="btn btn-default btn-lg" value="Excluir"
						onclick="javascript: window.location.assign('excluir.jsf?id=#{filialBean.sede.filId}');" />

				</div>

			</div>

		</h:form>

	</ui:define>
</ui:composition>
</html>